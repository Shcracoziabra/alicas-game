(()=>{"use strict";class e{constructor({container:e,soundToggleSelector:t,soundPath:a="",audioParams:o={}}){this.container=e,this.soundToggleSelector=t,this.init(a,o)}init(e,t){const{name:a,src:o,loop:s}=t;this.name=a,this.src=o,this.loop=s;const n=document.createElement("audio");n.setAttribute("src",`${e}${this.src}`),n.setAttribute("data-sound",this.name),n.loop=this.loop,n.muted=!1,n.display="none",this.audioElem=n,this.container.insertAdjacentElement("beforeend",this.audioElem)}playWatchingSoundAllowed(e){let t,a=1e3*this.audioElem.duration;const o=s=>{if(void 0===t&&(t=s,e?e.isActive&&this.play():this.play()),document.querySelector(this.soundToggleSelector).classList.contains("play")?this.unmute():this.mute(),e){if(!e.isActive)return void this.stop();this.loopSound(),window.requestAnimationFrame(o)}else{if(!(s-t<a))return void this.stop();window.requestAnimationFrame(o)}};window.requestAnimationFrame(o)}play(){this.audioElem.play()}mute(){this.audioElem.muted=!0}unmute(){this.audioElem.muted=!1}stop(){this.audioElem.pause(),this.audioElem.currentTime=0}loopSound(){this.audioElem.currentTime===this.audioElem.duration&&(this.audioElem.currentTime=0,this.play())}playAgainIfEnded(e){this.audioElem.ended&&(this.audioElem.currentTime=e,this.audioElem.play())}getCurrentTime(){return this.audioElem.currentTime}getDuration(){return this.audioElem.duration}setCurrentTime(e){this.audioElem.currentTime=e}setTime(e){this.audioElem.currentTime=e}}class t{constructor({name:e,wrapper:t={tag:"div",classes:[],attributes:[]},innerElems:a=[],correctionsToBeTarget:o={left:0,top:0,right:0,bottom:0}}){this.name=e,this.correctionsToBeTarget=o,this.disappearsSoon=!1,this.init(t,a)}init(e,t){function a(e="div",t=[],a=[]){const o=document.createElement(e);return t.forEach((e=>o.classList.add(e))),a.forEach((e=>o.setAttribute(e.name,e.value))),o}const{tag:o,classes:s,attributes:n}=e;this.block=a(o,s,n),t.forEach((({name:e,tag:t,classes:o,attributes:s})=>{const n=a(t,o,s);n.setAttribute("data-part",e),this.block.append(n)}))}addTo(e){this.container=e,this.container.append(this.block),this.setCoordsAttachedToMouse=this.setCoordsAttachedToMouse.bind(this),this.setCoordsAttachedToMouse(),window.addEventListener("resize",this.setCoordsAttachedToMouse)}setCoordsAttachedToMouse(){this.setViewPortCoords(),this.setCorrectionMouseCoords()}remove(){window.removeEventListener("resize",this.setCoordsAttachedToMouse),this.block.remove()}setAttribute(e,t){this.block.setAttribute(e,t)}async hide(e,t=0){return new Promise(((a,o)=>{setTimeout((()=>{e.style.display="none",a()}),t)}))}async show(e,t=0){return new Promise(((a,o)=>{setTimeout((()=>{e.style.display="",a()}),t)}))}getPart(e){return this.block.querySelector(`[data-part=${e}]`)}changeStyleValueGradually(e,t,a,o){return new Promise(((s,n)=>{let i,r,c=!1;const l=o/t;window.requestAnimationFrame((function n(d){void 0===i&&(i=d);const u=d-i;if(r!==d){const t=Math.min(l*u,o);a(e,t),t===o&&(c=!0,s())}u<t&&(r=d,c||window.requestAnimationFrame(n))}))}))}async graduallyDisappear(e,t){this.block.style.opacity=1,await this.changeStyleValueGradually(t,e,((e,t)=>e.style.opacity=1-t),1)}async graduallyAppear(e,t){this.block.style.opacity=0,await this.changeStyleValueGradually(t,e,((e,t)=>e.style.opacity=t),1)}async place({params:e={top:0,left:0},delay:t=0}){return this.block.style.position="absolute",new Promise(((a,o)=>{setTimeout((()=>{for(let t of Object.keys(e))this.block.style[t]=e[t];a()}),t)}))}setViewPortCoords(){const{left:e,top:t,right:a,bottom:o}=this.block.getBoundingClientRect();this.viewportCoords={left:e,top:t,right:a,bottom:o}}setCorrectionMouseCoords(){this.viewPortMouseCorrection={left:this.viewportCoords.left-this.block.offsetLeft,top:this.viewportCoords.top-this.block.offsetTop}}setTextParagraphes(e=[]){this.block.innerHTML="";for(let t of e){const e=document.createElement("p");e.textContent=t,this.block.append(e)}}setTextInPart(e,t){this.getPart(e)&&(this.getPart(e).innerText=t)}isTarget(e){const t=this.viewportCoords.left+this.correctionsToBeTarget.left,a=this.viewportCoords.top+this.correctionsToBeTarget.top,o=this.viewportCoords.right+this.correctionsToBeTarget.right,s=this.viewportCoords.bottom+this.correctionsToBeTarget.bottom;if(e.clientX>t&&e.clientX<o&&e.clientY>a&&e.clientY<s)return!0}}async function a({container:e,text:a=[],btnSettings:o={}}){const s=new t({name:"informator",wrapper:{classes:["informator"]},innerElems:[{name:"avatar",classes:["informator_avatar"]},{name:"container",classes:["informator_container"]}]}),n=new t({name:"text",wrapper:{classes:["informator_text"]}});return await s.place({params:{left:"20px",bottom:"20px"},delay:1e3}),s.addTo(e),n.setTextParagraphes(a),n.addTo(s.getPart("container")),await n.graduallyAppear(1e3,n.block),await async function(){return new Promise(((e,t)=>{Object.keys(o).length?setTimeout((()=>{const t=document.createElement("btn");t.innerText=o.text?o.text:"Click!",o.className&&t.classList.add(o.className),t.addEventListener("click",(()=>{o.sound&&o.sound.playWatchingSoundAllowed(),e()}),{once:!0}),s.getPart("container").append(t)}),o.delay):e()}))}(),{informator:s,message:n}}class o extends t{constructor({activeClass:e,movingClass:t,name:a,wrapper:o={tag:"div",classes:[],attributes:[]},innerElems:s=[],correctionsToBeTarget:n={left:0,top:0,right:0,bottom:0},renewable:i=!0,renewResourceOnEnd:r=!1,canBeMoved:c=!1,leftMoveCorrection:l=0,topMoveCorrection:d=0,maxResource:u}){super({name:a,wrapper:o,innerElems:s,correctionsToBeTarget:n}),this.isActive=!1,this.activeClass=e,this.currentResource=u,this.canBeMoved=c,c&&(this.movingClass=t,this.isMoving=!1,this.leftMoveCorrection=l,this.topMoveCorrection=d,this.target=""),this.renewable=i,this.renewResourceOnEnd=r,this.maxResource=u}addSoundSettings(t={startMovingSound,actionSound,stopMovingSound}){this.hasSound=!0;for(let a in Object.keys(t))a instanceof e&&(this[key]=a[key])}togglePosition(e){this.isMoving?this.takeMousePosition(e):this.takeInitialPosition()}takeInitialPosition(){this.block.style.position="",this.block.style.left="",this.block.style.top="",this.block.style.right="",this.block.style.bottom=""}takeMousePosition(e){this.place({params:{left:`${e.clientX-this.viewPortMouseCorrection.left+this.leftMoveCorrection}px`,top:`${e.clientY-this.viewPortMouseCorrection.top+this.topMoveCorrection}px`}})}followMouse(){this.container.addEventListener("mousemove",(e=>{this.isMoving&&this.takeMousePosition(e)}))}looseResource(){this.stopActivityOnNoResource(),this.toggleActivityClass(),this.isActive&&this.currentResource--}gainResource(){this.toggleActivityClass(),this.currentResource<this.maxResource&&!this.isActive&&!this.isMoving&&this.currentResource++}stopActivityOnNoResource(){0===this.currentResource&&(this.isActive=!1)}toggleActivityClass(){this.isActive?this.block.classList.contains(this.activeClass)||this.block.classList.add(this.activeClass):this.block.classList.contains(this.activeClass)&&this.block.classList.remove(this.activeClass)}fillWithResource({entityToFill:e,timeStep:t=200,responsibleOpacity:a=!1,showCurrentResource:o=!1,units:s=""}={}){const n=setInterval((()=>{this.isActive?(this.looseResource(),o&&this.setTextInPart("resource-count",`${this.currentResource} ${s}`),a&&this.setOpacityOnResource(),e.gainResource(),e.setTextInPart("resource-count",`${e.currentResource} ${s}`)):(clearInterval(n),this.renewResourceOnEnd&&this.renewResourceAfterDelay())}),t)}highLightIfHasTarget(){this.target&&this.isMoving?this.block.classList.add("highlight"):this.block.classList.remove("highlight")}setOpacityOnResource(){this.block.style.opacity=Math.min(1,this.currentResource/this.maxResource)}renewResourceAfterDelay({delay:e=4e3,responsibleOpacity:t=!0,showCurrentResource:a=!1,step:o=200}={}){setTimeout((()=>{const e=setInterval((()=>{!this.isActive&&this.currentResource<this.maxResource?(this.currentResource++,a&&this.setTextInPart("resource-count",this.currentResource),t&&this.setOpacityOnResource()):clearInterval(e)}),o)}),e)}}class s extends t{constructor({name:e,wrapper:t,innerElems:a,correctionsToBeTarget:o,stages:s}){super({name:e,wrapper:t,innerElems:a,correctionsToBeTarget:o}),this.currentResource=0,this.stages=s,this.resourceToFinish=s[s.length-1][1],this.finish=!1}getChangedOnResource({stageSound:e,harvestSound:t}={}){const a=this.stages.find((e=>this.currentResource===e[1]));a&&(this.block.setAttribute("data-stage",a[0]),this.stages.indexOf(a)===this.stages.length-1?(t&&t.playWatchingSoundAllowed(),this.finish=!0):e&&e.playWatchingSoundAllowed())}gainResource(){this.currentResource<this.resourceToFinish&&this.currentResource++}}const n=[{name:"м'ята",top:515,left:435,imgFruit:"mint.png",stages:[["first",10],["second",15],["third",20]]},{name:"морква",top:565,left:815,imgFruit:"carrot.png",stages:[["first",10],["second",15],["third",20]]},{name:"гарбуз",top:375,left:258,imgFruit:"pumpkin.png",stages:[["first",10],["second",15],["third",20]]},{name:"малина",top:370,left:440,imgFruit:"raspberry.png",stages:[["first",10],["second",15],["third",20]]},{name:"суниця",top:570,left:660,imgFruit:"strawberry.png",stages:[["first",10],["second",15],["third",20]]},{name:"помідор",top:420,left:940,imgFruit:"tomato.png",stages:[["first",10],["second",15],["third",20]]},{name:"перець",top:420,left:850,imgFruit:"pepper.png",stages:[["first",10],["second",15],["third",20]]},{name:"горох",top:420,left:1050,imgFruit:"peas.png",stages:[["first",10],["second",15],["third",20]]},{name:"ананас",top:400,left:760,imgFruit:"pineapple.png",stages:[["first",10],["second",15],["third",20]]}];async function i({container:e=null,classes:i=[],bgImage:r="",text:c=[],introSound:l,outroSound:d,toolSounds:u=[],appearSound:p}){l&&l.playWatchingSoundAllowed();const m=new t({name:"plant-view",wrapper:{classes:i}});m.block.style.backgroundImage=`url('../assets/image/${r}')`,m.addTo(e),await m.graduallyAppear(3e3,m.block),await a({container:m.block,text:c}),p.playWatchingSoundAllowed();let g=await async function({container:e,sounds:t,appearDelay:a}){const s=new o({activeClass:"active",movingClass:"moving",name:"watering-can",wrapper:{classes:["watering-can"]},innerElems:[{name:"splashes",classes:["splashes"]},{name:"resource-count",tag:"p"}],canBeMoved:!0,leftMoveCorrection:-10,topMoveCorrection:-150,maxResource:40});s.setTextInPart("resource-count",`${s.currentResource}л`),s.addTo(e),s.followMouse(),a&&await s.graduallyAppear(a,s.block);const n=t.startMovingSound,i=t.stopMovingSound,r=t.actionSound;return s.block.addEventListener("click",(e=>{s.isMoving||(s.isMoving=!0,s.block.classList.add(s.movingClass),s.togglePosition(e),n&&(i&&i.stop(),n.stop(),n.playWatchingSoundAllowed(s)))})),s.block.addEventListener("contextmenu",(e=>{e.preventDefault(),s.isMoving&&(s.isMoving=!1,s.highLightIfHasTarget(s.target),s.block.classList.remove(s.movingClass),s.canBeMoved&&s.togglePosition(e),i&&(n&&n.stop(),i.stop(),i.playWatchingSoundAllowed(s)))})),s.block.addEventListener("mousedown",(e=>{if(s.isMoving&&0===e.button){s.currentResource>0&&(s.isActive=!0);const e=setInterval((()=>{s.isActive?(s.looseResource(),s.isActive&&s.target&&s.target.gainResource(),s.target&&s.target.getChangedOnResource(),s.setTextInPart("resource-count",s.currentResource+"л"),s.target&&s.target.setTextInPart("resource-count",s.target.currentResource)):(s.toggleActivityClass(),clearInterval(e))}),200);r&&(r.stop(),r.playWatchingSoundAllowed(s))}})),s.block.addEventListener("mouseup",(e=>{s.isActive=!1,s.block.classList.remove(s.activeClass),r&&r.stop()})),s}({container:m.block,sounds:u.find((({toolName:e})=>"watering-can"===e)),appearDelay:1e3});await async function({container:e,entityToFill:t,sounds:a,appearDelay:s}){const n=new o({activeClass:"active",name:"cloud",wrapper:{classes:["cloud-wrapper"]},innerElems:[{classes:["cloud"]},{classes:["rain"]}],maxResource:100,renewResourceOnEnd:!0});n.addTo(e),s&&await n.graduallyAppear(s,n.block);const i=a.actionSound;return n.block.addEventListener("click",(e=>{!n.isActive&&n.currentResource>0&&(n.isActive=!0,n.toggleActivityClass(),n.fillWithResource({entityToFill:t,responsibleOpacity:!0,units:"л"}),i&&i.playWatchingSoundAllowed(n))})),n.block.addEventListener("contextmenu",(e=>{e.preventDefault(),n.isActive=!1,n.toggleActivityClass(),i&&i.stop()})),n}({container:m.block,entityToFill:g,sounds:u.find((({toolName:e})=>"cloud"===e)),appearDelay:2e3}),p.playWatchingSoundAllowed();let h=[];await async function({container:e,appearSound:t,plantsParams:a,arrayToSave:o}){a.forEach((async({name:a,top:n,left:i,stages:r},c)=>{const l=function({name:e,stages:t}){return new s({name:e,wrapper:{classes:["pot"]},innerElems:[{name:"resource-count",tag:"p"}],correctionsToBeTarget:{left:30,bottom:-40,top:0,right:30},stages:t})}({name:a,stages:r});await l.place({params:{top:`${n}px`,left:`${i}px`},delay:600*c}),l.addTo(e),t.playWatchingSoundAllowed(),o.push(l)}))}({container:m.block,plantsParams:n,arrayToSave:h,appearSound:p}),m.block.addEventListener("mousemove",(e=>{if(g.isMoving){const t=h.find((t=>t.isTarget(e)));g.target=t||"",g.highLightIfHasTarget()}})),await async function(){let e=!1;return new Promise(((t,a)=>{m.block.addEventListener("contextmenu",(async a=>{a.preventDefault(),h.every((e=>e.finish))&&(e||(e=!0,d.playWatchingSoundAllowed(),await m.graduallyDisappear(3e3,m.block),m.remove(),t()))}))}))}(),u.find((({toolName:e})=>"cloud"===e)).actionSound.stop()}const r=[{name:"rain",src:"rain.mp3",loop:!1},{name:"harvest",src:"harvest.mp3",loop:!1},{name:"rainbow",src:"rainbow.mp3",loop:!1},{name:"put",src:"put.mp3",loop:!1},{name:"take",src:"take.mp3",loop:!1},{name:"place",src:"fast-put.mp3",loop:!1},{name:"garden",src:"garden.mp3",loop:!0},{name:"running-water",src:"running-water.mp3",loop:!0},{name:"view-intro",src:"view-intro.mp3",loop:!1},{name:"fairy",src:"fairy.mp3",loop:!1}],c=[{name:"welcomeText",text:["Привіт, Алісо і друзі!","Я радий вас бачити :)","Мені знадобиться ваша допомога.","Подивитеся на мій чудовий сад?"]},{name:"growPlantsText",text:["Маю горщики з рослинами, але забув, що де посіяв","Допоможіть мені їх виростити!","Справа в кутку стоїть лійка","Хмарка допоможе її наповнювати."]},{name:"pickFruitText",text:["Дякую! Ми виростили рослини і настав час зібрати плоди","Перенесіть їх, будь ласка, до відповідних кошиків"]},{name:"rainbowText",text:["Ура, ми впоралися!","Дивись, який чудові плоди! Твій місяць нам дає багато прекрасного.","Торкнись врожаю і він покаже тобі веселку."]},{name:"envelopeText",text:["Але в мене є ще дещо для тебе.","Почекай трохи."]},{name:"congratsText",text:["З днем народження, Алісо!","Дякую тобі за допомогу.","Пригощайся смачним врожаєм.","Завжди радий бачити у своєму саду.","Обіймаю вас, друзі!♥"]}];window.addEventListener("DOMContentLoaded",(async o=>{console.log(document.documentElement.clientWidth,document.documentElement.clientHeight,navigator.userAgent.includes("Chrome")),document.body.style.backgroundImage="url('../assets/image/bg-optimized.webp')";const s=document.querySelector(".root");await async function(){return new Promise(((e,t)=>{"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?s.append("Гра працює лише на персональному комп'ютері"):document.documentElement.clientWidth<1200||document.documentElement.clientHeight<600?s.append("\n    Мінімальні параметри екрану 1200px x 600px. \n    Збільшіть вікно браузера та перезавантажте сторінку.\n"):e()}))}();const l="[data-sound]";let d=[];var u;r.forEach((t=>{const a=new e({container:s,soundToggleSelector:l,soundPath:"../assets/sound/",audioParams:t});d.push(a)})),u=l,document.querySelector(u).addEventListener("click",(()=>{document.querySelector(u).classList.toggle("play")}));const p=d.find((({name:e})=>"garden"===e));await async function({container:e=null,classes:o=[],bgImage:s="",text:n=[],btnSound:i,outroSound:r}){const c=new t({name:"welcome-view",wrapper:{classes:o}});c.block.style.backgroundImage=`url('../assets/image/${s}')`,c.addTo(e),await c.graduallyAppear(3e3,c.block),await a({container:c.block,text:n,btnSettings:{text:"Почнімо!",className:"informator_btn",sound:i,delay:1e3}}),r.playWatchingSoundAllowed(),await c.graduallyDisappear(3e3,c.block),c.remove()}({container:s,classes:["view-0"],bgImage:"bg-0-optimized.wepb",text:c.find((({name:e})=>"welcomeText"===e)).text,btnSound:d.find((({name:e})=>"take"===e)),outroSound:d.find((({name:e})=>"harvest"===e))}),p.playWatchingSoundAllowed({isActive:!0}),await i({container:s,classes:["view-1"],bgImage:"bg-1-optimized.wepb",text:c.find((({name:e})=>"growPlantsText"===e)).text,introSound:d.find((({name:e})=>"view-intro"===e)),outroSound:d.find((({name:e})=>"harvest"===e)),appearSound:d.find((({name:e})=>"place"===e)),toolSounds:[{toolName:"watering-can",startMovingSound:d.find((({name:e})=>"take"===e)),actionSound:d.find((({name:e})=>"running-water"===e)),stopMovingSound:d.find((({name:e})=>"put"===e))},{toolName:"cloud",actionSound:d.find((({name:e})=>"rain"===e))}]}),await async function({container:e=null,classes:o=[],bgImage:s="",text:i=[],introSound:r,outroSound:c,appearSound:l,dragSound:d,dropSound:u,imagePath:p=""}){r&&r.playWatchingSoundAllowed();const m=new t({name:"fruit-view",wrapper:{classes:o}});m.block.style.backgroundImage=`url('../assets/image/${s}')`,m.addTo(e),await m.graduallyAppear(3e3,m.block),await a({container:m.block,text:i}),await async function({dragDropPairParams:e,container:a,imagePath:o,dragSound:s,dropSound:n,appearSound:i}){return new Promise(((r,c)=>{let l,d=new t({name:"fruit-container",wrapper:{classes:["fruit-container"]}});d.addTo(a),e.forEach((async({name:c,top:u,left:p,imgFruit:m})=>{const g=await async function({container:e,name:a,dragContainer:o,imgForBg:s,dragClasses:n,dropClasses:i,dropTitleClasses:r,dropTop:c,dropLeft:l,appearSound:d}){const u=new t({name:a,wrapper:{classes:n,attributes:[{name:"data-drag",value:a},{name:"data-match",value:!1},{name:"draggable",value:!0}]}});s&&(u.block.style.backgroundImage=`url(${s})`);const p=new t({name:a,wrapper:{classes:i,attributes:[{name:"data-drop",value:a}]},innerElems:[{name:"title",classes:r}]});return p.setTextInPart("title",a),u.addTo(o),d.playWatchingSoundAllowed(),await p.place({params:{top:`${c}px`,left:`${l}px`},delay:1e3}),p.addTo(e),d.playWatchingSoundAllowed(),{drag:u,drop:p}}({container:a,name:c,dragContainer:d.block,imgForBg:o+m,dragClasses:["fruit"],dropClasses:["basket"],dropTitleClasses:["basket-title"],dropTop:u,dropLeft:p,appearSound:i}),{drag:h,drop:w}=g;h.block.addEventListener("dragstart",(e=>{l=e.target,s.playWatchingSoundAllowed()})),w.block.addEventListener("dragover",(e=>{e.preventDefault()})),w.block.addEventListener("drop",(t=>{t.preventDefault(),t.target.matches("[data-drop]")&&!t.target.querySelector("[data-drag")&&(t.target.append(l),t.target.getAttribute("data-drop")===l.getAttribute("data-drag")?l.setAttribute("data-match",!0):l.setAttribute("data-match",!1),n.playWatchingSoundAllowed(),l=null);const o=a.querySelectorAll("[data-match=true]");e.length===o.length&&setTimeout((()=>{r()}),2e3)}))})),a.addEventListener("dragover",(e=>{e.preventDefault()})),a.addEventListener("drop",(e=>{e.preventDefault(),e.target===a&&(d.block.append(l),l.setAttribute("data-match",!1))}))}))}({dragDropPairParams:n,container:m.block,imagePath:p,dragSound:d,dropSound:u,appearSound:l}),c.playWatchingSoundAllowed(),await m.graduallyDisappear(3e3,m.block),m.remove()}({container:s,classes:["view-2"],bgImage:"bg-2-optimized.wepb",text:c.find((({name:e})=>"pickFruitText"===e)).text,imagePath:"../assets/image/",dragSound:d.find((({name:e})=>"take"===e)),dropSound:d.find((({name:e})=>"put"===e)),appearSound:d.find((({name:e})=>"place"===e)),introSound:d.find((({name:e})=>"view-intro"===e)),outroSound:d.find((({name:e})=>"harvest"===e))}),await async function({container:e=null,classes:o=[],bgImage:s="",firstTaskText:n=[],secondTaskText:i=[],congratsText:r=[],harvestSound:c,rainbowSound:l,introSound:d,outroSound:u}){d&&d.playWatchingSoundAllowed();const p=new t({name:"congrats-view",wrapper:{classes:o}});p.block.style.backgroundImage=`url('../assets/image/${s}')`,p.addTo(e),await p.graduallyAppear(3e3,p.block);let{informator:m,message:g}=await a({container:p.block,text:n}),h=new t({name:"harvest",wrapper:{classes:["harvest"]}}),w=new t({name:"rainbow",wrapper:{classes:["rainbow"]}}),v=new t({name:"congrats",wrapper:{classes:["congrats"]}});h.addTo(p.block),c.playWatchingSoundAllowed(),await h.graduallyAppear(1e3,h.block),await async function(){return new Promise(((e,t)=>{h.block.addEventListener("click",(async t=>{w.addTo(p.block),l.playWatchingSoundAllowed(),await w.graduallyAppear(3e3,w.block),e()}),{once:!0})}))}(),await g.graduallyDisappear(2e3,g.block),g.setTextParagraphes(i),c.playWatchingSoundAllowed(),await g.graduallyAppear(2e3,g.block),await m.hide(m.getPart("container"),5e3),m.place({params:{top:"384px",left:"700px",bottom:""}});let b=new t({name:"envelope",wrapper:{classes:["envelope"]}});b.addTo(p.block),b.place({params:{top:"430px",left:"650px"}}),c.playWatchingSoundAllowed(),b.block.addEventListener("click",(async()=>{v.addTo(p.block),v.setTextParagraphes(r),b.block.remove(),u.playWatchingSoundAllowed(),await v.graduallyAppear(3e3,v.block)}))}({container:s,classes:["view-3"],bgImage:"bg-3-optimized.wepb",firstTaskText:c.find((({name:e})=>"rainbowText"===e)).text,secondTaskText:c.find((({name:e})=>"envelopeText"===e)).text,congratsText:c.find((({name:e})=>"congratsText"===e)).text,harvestSound:d.find((({name:e})=>"harvest"===e)),rainbowSound:d.find((({name:e})=>"rainbow"===e)),introSound:d.find((({name:e})=>"view-intro"===e)),outroSound:d.find((({name:e})=>"fairy"===e))})}))})();